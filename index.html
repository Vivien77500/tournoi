<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Tournoi</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 20px;
        }
        h2 {
            text-align: center;
        }
        table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ccc;
            text-align: center;
        }
        .buteur-tag {
            display: inline-block;
            background-color: #007bff;
            color: white;
            padding: 5px;
            margin: 2px;
            border-radius: 3px;
            cursor: pointer;
        }
        .suggestions {
            border: 1px solid #ccc;
            max-height: 100px;
            overflow-y: auto;
            position: absolute;
            background-color: white;
            z-index: 1000;
            display: none;
        }
        .suggestions div {
            padding: 5px;
            cursor: pointer;
        }
        .suggestions div:hover {
            background-color: #f0f0f0;
        }
        #classement {
            margin-top: 20px;
            width: 60%;
            margin: 20px auto;
        }
    </style>
</head>
<body>

    <h2>Tableau de Tournoi</h2>

    <table id="matches">
        <thead>
            <tr>
                <th>Match</th>
                <th>Score</th>
                <th>Buteurs</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Real Madrid vs Manchester City</td>
                <td>
                    <input type="number" id="score-rm-mc" placeholder="Score RM" onchange="updateClassement()">
                    -
                    <input type="number" id="score-mc-rm" placeholder="Score MC" onchange="updateClassement()">
                </td>
                <td>
                    <input type="text" oninput="showSuggestions(this)" placeholder="Buteurs">
                    <div class="suggestions"></div>
                </td>
            </tr>
            <tr>
                <td>FC Barcelone vs Liverpool FC</td>
                <td>
                    <input type="number" id="score-fcb-lfc" placeholder="Score FCB" onchange="updateClassement()">
                    -
                    <input type="number" id="score-lfc-fcb" placeholder="Score LFC" onchange="updateClassement()">
                </td>
                <td>
                    <input type="text" oninput="showSuggestions(this)" placeholder="Buteurs">
                    <div class="suggestions"></div>
                </td>
            </tr>
            <tr>
                <td>Real Madrid vs FC Barcelone</td>
                <td>
                    <input type="number" id="score-rm-fcb" placeholder="Score RM" onchange="updateClassement()">
                    -
                    <input type="number" id="score-fcb-rm" placeholder="Score FCB" onchange="updateClassement()">
                </td>
                <td>
                    <input type="text" oninput="showSuggestions(this)" placeholder="Buteurs">
                    <div class="suggestions"></div>
                </td>
            </tr>
            <tr>
                <td>Manchester City vs Liverpool FC</td>
                <td>
                    <input type="number" id="score-mc-lfc" placeholder="Score MC" onchange="updateClassement()">
                    -
                    <input type="number" id="score-lfc-mc" placeholder="Score LFC" onchange="updateClassement()">
                </td>
                <td>
                    <input type="text" oninput="showSuggestions(this)" placeholder="Buteurs">
                    <div class="suggestions"></div>
                </td>
            </tr>
        </tbody>
    </table>

    <h2>Classement</h2>
    <table id="classement">
        <thead>
            <tr>
                <th>Équipe</th>
                <th>Points</th>
                <th>Buts Pour</th>
                <th>Buts Contre</th>
                <th>Différence de Buts</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Real Madrid</td>
                <td class="points">0</td>
                <td class="bp">0</td>
                <td class="bc">0</td>
                <td class="diff">0</td>
            </tr>
            <tr>
                <td>FC Barcelone</td>
                <td class="points">0</td>
                <td class="bp">0</td>
                <td class="bc">0</td>
                <td class="diff">0</td>
            </tr>
            <tr>
                <td>Manchester City</td>
                <td class="points">0</td>
                <td class="bp">0</td>
                <td class="bc">0</td>
                <td class="diff">0</td>
            </tr>
            <tr>
                <td>Liverpool FC</td>
                <td class="points">0</td>
                <td class="bp">0</td>
                <td class="bc">0</td>
                <td class="diff">0</td>
            </tr>
        </tbody>
    </table>

    <script>
        const buteurs = [
            "Aaron Esnard Le Foll", "Aaron Kae", "Aboubakar Ait Kassou", "Adam Redissi", "Adil Lalaoui",
            "Amine BENBOUBKER", "Assane Fadika", "Aurélien Achard", "Axel Aggar", "BRADLEY WOLOKO LIPETA",
            "Charle Mendes", "Elijah Banzulu", "Emmanuel Makkaya", "Erwann Pierre", "Ethan Henriet",
            "Ethan Tomas Espejo", "Farhan SOUMANOU", "Hosiya", "Ilyes Aissi", "Imed Hassan",
            "Imran Ben yahia", "Isaac Sogo", "Junayd Bourezgui", "Kayis Amari", "Kiany Babelana Matondo",
            "Kyliane Kibuku", "LOUCAS ASSABBANE", "Lemiere Laiky", "Lenny Exumat", "Lenyh Delegove-Vally",
            "Liam Faria", "Manyl BOUBRIT", "Mathis Sidhoumi", "Mohamed Rakhaoui", "Naïl Mehdi",
            "Noham Ksia", "Rafael Esteves", "Raphaël YOU KHOU", "Ryad Mayass", "Ryan Badawy",
            "Ryan Chaabi", "Said Hassan Akbas", "Sivarasa Habishan & Kishan", "Soulayman Mhamdi",
            "Thaïs Ntone", "Théo Daigueperce", "Tiago Gendarme", "Tohiniaina ANDRITSIZEHENA", "Valentin Cherel",
            "WILLIAM DAMBRUN", "Yacine Touati", "Yani Aylan Bouchelkia", "Yanis MEHDI"
        ];

        function showSuggestions(input) {
            const suggestionsDiv = input.nextElementSibling;
            const query = input.value.toLowerCase();
            let suggestions = buteurs.filter(buteur => buteur.toLowerCase().includes(query));

            // Clear previous suggestions
            suggestionsDiv.innerHTML = '';

            if (suggestions.length > 0) {
                suggestionsDiv.style.display = "block";
                suggestionsDiv.innerHTML = suggestions.map(buteur => `<div onclick="selectButeur('${buteur}', this)">${buteur}</div>`).join('');
            } else {
                suggestionsDiv.style.display = "none";
            }
        }

        function selectButeur(buteur, element) {
            const inputField = element.parentElement.querySelector('input');
            const buteurTag = document.createElement("div");
            buteurTag.className = "buteur-tag";
            buteurTag.textContent = buteur;
            buteurTag.onclick = () => {
                // Remove the tag on click
                element.parentElement.removeChild(buteurTag);
            };

            element.parentElement.insertBefore(buteurTag, inputField);
            inputField.value = ""; // Clear the input field
            element.parentElement.querySelector(".suggestions").style.display = "none"; // Hide suggestions
        }

        function updateClassement() {
            const matches = [
                { scores: [document.getElementById("score-rm-mc"), document.getElementById("score-mc-rm")], teams: ["Real Madrid", "Manchester City"] },
                { scores: [document.getElementById("score-fcb-lfc"), document.getElementById("score-lfc-fcb")], teams: ["FC Barcelone", "Liverpool FC"] },
                { scores: [document.getElementById("score-rm-fcb"), document.getElementById("score-fcb-rm")], teams: ["Real Madrid", "FC Barcelone"] },
                { scores: [document.getElementById("score-mc-lfc"), document.getElementById("score-lfc-mc")], teams: ["Manchester City", "Liverpool FC"] }
            ];

            // Reset points and goals
            const teamsStats = {
                "Real Madrid": { points: 0, bp: 0, bc: 0 },
                "FC Barcelone": { points: 0, bp: 0, bc: 0 },
                "Manchester City": { points: 0, bp: 0, bc: 0 },
                "Liverpool FC": { points: 0, bp: 0, bc: 0 }
            };

            matches.forEach(match => {
                const scoreA = parseInt(match.scores[0].value) || 0;
                const scoreB = parseInt(match.scores[1].value) || 0;
                const [teamA, teamB] = match.teams;

                // Update goals
                teamsStats[teamA].bp += scoreA;
                teamsStats[teamA].bc += scoreB;
                teamsStats[teamB].bp += scoreB;
                teamsStats[teamB].bc += scoreA;

                // Update points
                if (scoreA > scoreB) {
                    teamsStats[teamA].points += 3; // Team A wins
                } else if (scoreA < scoreB) {
                    teamsStats[teamB].points += 3; // Team B wins
                } else {
                    if (scoreA > 0 || scoreB > 0) {
                        teamsStats[teamA].points += 1; // Draw
                        teamsStats[teamB].points += 1; // Draw
                    }
                }
            });

            // Update the ranking table
            const rankingRows = document.querySelectorAll("#classement tbody tr");
            rankingRows.forEach(row => {
                const team = row.cells[0].textContent;
                row.cells[1].textContent = teamsStats[team].points;
                row.cells[2].textContent = teamsStats[team].bp;
                row.cells[3].textContent = teamsStats[team].bc;
                row.cells[4].textContent = teamsStats[team].bp - teamsStats[team].bc; // Goal difference
            });
        }
    </script>

</body>
</html>
